(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,31713,e=>{"use strict";var t=e.i(43476),a=e.i(7233),l=e.i(71645),s=e.i(24851),i=e.i(7928),n=e.i(67881),o=e.i(24450),r=e.i(9715),c=e.i(65449),m=e.i(69486),u=e.i(21110),d=e.i(2568);function x(){let{items:e,pagination:x,isLoading:g,expandedItemId:h,addItem:p,updateItem:f,deleteItem:j,toggleExpandItem:w,changePage:C}=(0,u.useCollectionItems)(),{filteredItems:I,setSearchQuery:S,isSearching:y,searchQuery:N,resultsCount:b,totalCount:F,ratingFilter:v,setRatingFilter:P,categoryFilter:A,setCategoryFilter:O}=(0,d.useSearchItems)(e),[B,E]=(0,l.useState)(!1),[R,T]=(0,l.useState)(null),M=async e=>await p(e),k=async e=>!!R?.id&&await f(R.id,e);if(g)return(0,t.jsx)("main",{className:"container mx-auto p-4 max-w-5xl",children:(0,t.jsx)(r.LoadingSpinner,{message:"Loading collection..."})});let K=e.length>0;return(0,t.jsxs)("main",{className:"container mx-auto p-4 max-w-5xl",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold",children:"My Collection"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full sm:w-auto",children:[(0,t.jsx)(m.SearchBar,{onSearch:S,placeholder:"Search in collection...",className:"w-full sm:w-auto"}),K&&(0,t.jsx)(c.ItemFormModal,{isOpen:B,onOpenChange:e=>{E(e),e||T(null)},onSubmit:R?k:M,title:R?"Edit Item":"Add New Item",defaultValues:R??void 0,trigger:(0,t.jsxs)(n.Button,{onClick:()=>T(null),className:"w-full sm:w-auto cursor-pointer",children:[(0,t.jsx)(a.Plus,{className:"h-4 w-4"}),"Add Item"]})})]})]}),K&&(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(o.FilterPanel,{ratingFilter:v,onRatingFilterChange:P,showCategoryFilter:!0,categoryFilter:A,onCategoryFilterChange:O})}),K?(0,t.jsx)(i.SearchResults,{items:I,isSearching:y,searchQuery:N,resultsCount:b,totalCount:F,onItemDelete:j,onItemEdit:e=>{T(e),E(!0)},onItemExpand:w,expandedItemId:h,pagination:y?void 0:{currentPage:x.page,totalPages:x.totalPages,onPageChange:C}}):(0,t.jsx)(s.EmptyState,{onAddClick:()=>{T(null),E(!0)}}),!K&&(0,t.jsx)(c.ItemFormModal,{isOpen:B,onOpenChange:e=>{E(e),e||T(null)},onSubmit:M,title:"Add First Item",defaultValues:void 0})]})}e.s(["default",()=>x])}]);