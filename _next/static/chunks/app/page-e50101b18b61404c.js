(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6650:(e,t,l)=>{Promise.resolve().then(l.bind(l,7322))},7322:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>g});var a=l(5155),s=l(6191),n=l(2115),i=l(9584),o=l(572),r=l(7003),c=l(8902),m=l(3136),d=l(8382),u=l(7026),x=l(5347),h=l(3435);function g(){let{items:e,pagination:t,isLoading:l,expandedItemId:g,addItem:f,updateItem:p,deleteItem:w,toggleExpandItem:j,changePage:C}=(0,x.M)(),{filteredItems:N,setSearchQuery:I,isSearching:b,searchQuery:v,resultsCount:y,totalCount:k,ratingFilter:S,setRatingFilter:E,categoryFilter:F,setCategoryFilter:O}=(0,h.M)(e),[_,A]=(0,n.useState)(!1),[P,V]=(0,n.useState)(null),M=async e=>await f(e),L=async e=>!!(null==P?void 0:P.id)&&await p(P.id,e);if(l)return(0,a.jsx)("main",{className:"container mx-auto p-4 max-w-5xl",children:(0,a.jsx)(m.k,{message:"Loading collection..."})});let D=e.length>0;return(0,a.jsxs)("main",{className:"container mx-auto p-4 max-w-5xl",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"My Collection"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3 w-full sm:w-auto",children:[(0,a.jsx)(u.I,{onSearch:I,placeholder:"Search in collection...",className:"w-full sm:w-auto"}),D&&(0,a.jsx)(d.V,{isOpen:_,onOpenChange:e=>{A(e),e||V(null)},onSubmit:P?L:M,title:P?"Edit Item":"Add New Item",defaultValues:null!=P?P:void 0,trigger:(0,a.jsxs)(r.$,{onClick:()=>V(null),className:"w-full sm:w-auto cursor-pointer",children:[(0,a.jsx)(s.A,{className:"h-4 w-4"}),"Add Item"]})})]})]}),D&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(c.Z,{ratingFilter:S,onRatingFilterChange:E,showCategoryFilter:!0,categoryFilter:F,onCategoryFilterChange:O})}),D?(0,a.jsx)(o.L,{items:N,isSearching:b,searchQuery:v,resultsCount:y,totalCount:k,onItemDelete:w,onItemEdit:e=>{V(e),A(!0)},onItemExpand:j,expandedItemId:g,pagination:b?void 0:{currentPage:t.page,totalPages:t.totalPages,onPageChange:C}}):(0,a.jsx)(i.p,{onAddClick:()=>{V(null),A(!0)}}),!D&&(0,a.jsx)(d.V,{isOpen:_,onOpenChange:e=>{A(e),e||V(null)},onSubmit:M,title:"Add First Item",defaultValues:void 0})]})}}},e=>{e.O(0,[707,40,684,336,441,255,358],()=>e(e.s=6650)),_N_E=e.O()}]);